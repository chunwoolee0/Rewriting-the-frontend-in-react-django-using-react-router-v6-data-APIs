# 하만석이 지은 React와 Django 연동 설치부터 배포까지의 frontend 부분 react-router-dom v6 data API 버전

react-router-dom는 v5에서 v6로 오면서 많은 변화가 있었던 것 같다. 우리나라에서 제작되거나 번역된 책들을 보면 v4, v5 버전으로 되어 있어 v6로 바꾸는 작업이 필요한 경우가 많다. 그런데 v6에는 새로 도입된 data API를 쓰는 router들과 data API를 지원하지 않는 router들이 있는데 [data APIs](https://reactrouter.com/en/main/routers/picking-a-router)를 쓰느냐 쓰지 않느냐에 따라 코딩 방식이 상당히 달라진다는 점이다. 그러나 아쉽게도 우리나라에서 2022년을 포함해 최근에 발행된 책에서 v6를 쓰더라도 data APIs를 쓰는 책을 보지 못했다. 한편 react.router.com 공식 사이트에 있는 [Tutorial](https://reactrouter.com/en/main/start/tutorial)이나 [Examples](https://github.com/remix-run/react-router/tree/dev/examples)들을 보면 [data APIs](https://reactrouter.com/en/main/routers/picking-a-router)를 쓰고 있고 이의 사용을 권장하고 있다.. 제 경우도 처음에는 이전 버전과의 유사성 때문에 [data APIs](https://reactrouter.com/en/main/routers/picking-a-router)를 쓰지 않는 방식을 선호했었다. 그러나 react.route.com의 [tutorial](https://reactrouter.com/en/main/start/tutorial) 예제가 너무 매력적이어서 이를 이용하여 하만석이 지은 [React와 Django 연동 설치부터 배포까지](https://antech.info/data?vid=9)의 frontend 부분을 이에 맞도록 작성 한 것을 깃허브에 공개한다.

> 원래 코드에는 proxy 를 사용하고 번들러로 create-react-app 로 작성된 것을 썼는데 이 일에서는 vite를 bundler로 썼다. 그런데 이 경우, proxy 기능이 default setting에서는 제대로 인식이 잘 되지 않아 이를 해결하기 보다는 proxy 기능을 빼버리고, django에서 CORS 를 설치해주었다. 따라서 원래의 코드의 server를 부르는 부분은 전부 http:localhost/를 넣어야 한다.
